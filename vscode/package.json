{
  "name": "hypha-vscode",
  "displayName": "Hypha",
  "description": "VS Code integration for Hypha markdown notes",
  "version": "1.0.1-alpha",
  "publisher": "battagel",
  "icon": "./images/icon.png",
  "repository": {
    "type": "git",
    "url": "https://github.com/battagel/hypha"
  },
  "engines": {
    "vscode": "^1.85.0"
  },
  "categories": [
    "Other",
    "Notebooks"
  ],
  "keywords": [
    "markdown",
    "notes",
    "note-taking",
    "zettelkasten",
    "knowledge-management",
    "frontmatter",
    "metadata",
    "wiki",
    "pkm"
  ],
  "main": "./out/extension.js",
  "scripts": {
    "vscode:prepublish": "npm run compile",
    "compile": "tsc -p ./",
    "watch": "tsc -p ./ -w",
    "lint": "eslint src --ext ts"
  },
  "contributes": {
    "viewsContainers": {
      "activitybar": [
        {
          "id": "hypha",
          "title": "Hypha",
          "icon": "$(notebook)"
        }
      ]
    },
    "views": {
      "hypha": [
        {
          "id": "hypha.topicsView",
          "name": "Topics",
          "icon": "$(notebook)",
          "contextualTitle": "Hypha"
        }
      ]
    },
    "viewsWelcome": [
      {
        "view": "hypha.topicsView",
        "contents": "Hypha root directory is not configured.\n[Settings](command:hypha.settings)",
        "when": "!hypha.isConfigured"
      },
      {
        "view": "hypha.topicsView",
        "contents": "No topics found.\n[Create New Topic](command:hypha.new)",
        "when": "hypha.isConfigured"
      }
    ],
    "commands": [
      {
        "command": "hypha.new",
        "title": "New Topic",
        "category": "Hypha",
        "icon": "$(add)"
      },
      {
        "command": "hypha.search",
        "title": "Search Topics",
        "category": "Hypha",
        "icon": "$(search)"
      },
      {
        "command": "hypha.refresh",
        "title": "Refresh",
        "category": "Hypha",
        "icon": "$(refresh)"
      },
      {
        "command": "hypha.clearSearch",
        "title": "Clear Search",
        "category": "Hypha",
        "icon": "$(clear-all)"
      },
      {
        "command": "hypha.cycleSort",
        "title": "Cycle Sort Order",
        "category": "Hypha",
        "icon": "$(list-ordered)"
      },
      {
        "command": "hypha.sortAlpha",
        "title": "Alphabetical",
        "category": "Hypha",
        "enablement": "hypha.sortOrder != alpha"
      },
      {
        "command": "hypha.sortModified",
        "title": "Recently Modified",
        "category": "Hypha",
        "enablement": "hypha.sortOrder != modified"
      },
      {
        "command": "hypha.sortCreated",
        "title": "Recently Created",
        "category": "Hypha",
        "enablement": "hypha.sortOrder != created"
      },
      {
        "command": "hypha.openTopic",
        "title": "Open Topic",
        "category": "Hypha"
      },
      {
        "command": "hypha.openPreview",
        "title": "Open Preview",
        "category": "Hypha",
        "icon": "$(open-preview)"
      },
      {
        "command": "hypha.deleteTopic",
        "title": "Delete Topic",
        "category": "Hypha",
        "icon": "$(trash)"
      },
      {
        "command": "hypha.lint",
        "title": "Lint Topics",
        "category": "Hypha",
        "icon": "$(warning)"
      },
      {
        "command": "hypha.info",
        "title": "Show Info",
        "category": "Hypha",
        "icon": "$(info)"
      },
      {
        "command": "hypha.openInFinder",
        "title": "Open root in File Explorer",
        "category": "Hypha",
        "icon": "$(folder-opened)"
      },
      {
        "command": "hypha.settings",
        "title": "Settings",
        "category": "Hypha",
        "icon": "$(gear)"
      },
      {
        "command": "hypha.documentation",
        "title": "Open Documentation",
        "category": "Hypha",
        "icon": "$(book)"
      },
      {
        "command": "hypha.quickFind",
        "title": "Quick Find Topic",
        "category": "Hypha",
        "icon": "$(go-to-file)"
      },
      {
        "command": "hypha.copyLink",
        "title": "Copy Markdown Link",
        "category": "Hypha",
        "icon": "$(link)"
      },
      {
        "command": "hypha.copyPath",
        "title": "Copy Relative Path",
        "category": "Hypha",
        "icon": "$(file-symlink-file)"
      },
      {
        "command": "hypha.findBacklinks",
        "title": "Find Backlinks",
        "category": "Hypha",
        "icon": "$(references)"
      },
      {
        "command": "hypha.searchBody",
        "title": "Search in Content",
        "category": "Hypha",
        "icon": "$(search)"
      },
      {
        "command": "hypha.renameTopic",
        "title": "Rename Topic",
        "category": "Hypha",
        "icon": "$(edit)"
      }
    ],
    "submenus": [
      {
        "id": "hypha.sortSubmenu",
        "label": "Sort By"
      }
    ],
    "menus": {
      "hypha.sortSubmenu": [
        {
          "command": "hypha.sortAlpha",
          "group": "sort@1"
        },
        {
          "command": "hypha.sortModified",
          "group": "sort@2"
        },
        {
          "command": "hypha.sortCreated",
          "group": "sort@3"
        }
      ],
      "view/title": [
        {
          "command": "hypha.new",
          "when": "view == hypha.topicsView",
          "group": "navigation@1"
        },
        {
          "command": "hypha.search",
          "when": "view == hypha.topicsView",
          "group": "navigation@2"
        },
        {
          "command": "hypha.clearSearch",
          "when": "view == hypha.topicsView && hypha.hasSearch",
          "group": "navigation@3"
        },
        {
          "submenu": "hypha.sortSubmenu",
          "when": "view == hypha.topicsView",
          "group": "1_view@1"
        },
        {
          "command": "hypha.refresh",
          "when": "view == hypha.topicsView",
          "group": "2_view@1"
        },
        {
          "command": "hypha.lint",
          "when": "view == hypha.topicsView",
          "group": "2_actions@2"
        },
        {
          "command": "hypha.info",
          "when": "view == hypha.topicsView",
          "group": "2_actions@3"
        },
        {
          "command": "hypha.openInFinder",
          "when": "view == hypha.topicsView",
          "group": "2_actions@4"
        },
        {
          "command": "hypha.settings",
          "when": "view == hypha.topicsView",
          "group": "3_settings@1"
        }
      ],
      "view/item/context": [
        {
          "command": "hypha.openTopic",
          "when": "view == hypha.topicsView && viewItem == topic",
          "group": "inline@1"
        },
        {
          "command": "hypha.openPreview",
          "when": "view == hypha.topicsView && viewItem == topic",
          "group": "1_open@1"
        },
        {
          "command": "hypha.findBacklinks",
          "when": "view == hypha.topicsView && viewItem == topic",
          "group": "2_navigation@1"
        },
        {
          "command": "hypha.copyLink",
          "when": "view == hypha.topicsView && viewItem == topic",
          "group": "3_copy@1"
        },
        {
          "command": "hypha.copyPath",
          "when": "view == hypha.topicsView && viewItem == topic",
          "group": "3_copy@2"
        },
        {
          "command": "hypha.renameTopic",
          "when": "view == hypha.topicsView && viewItem == topic",
          "group": "4_modify@1"
        },
        {
          "command": "hypha.deleteTopic",
          "when": "view == hypha.topicsView && viewItem == topic",
          "group": "4_modify@2"
        }
      ]
    },
    "keybindings": [
      {
        "command": "hypha.topicsView.focus",
        "key": "ctrl+k o",
        "mac": "cmd+k o"
      },
      {
        "command": "hypha.new",
        "key": "ctrl+k n",
        "mac": "cmd+k n"
      },
      {
        "command": "hypha.quickFind",
        "key": "ctrl+k f",
        "mac": "cmd+k f"
      },
      {
        "command": "hypha.search",
        "key": "ctrl+k shift+f",
        "mac": "cmd+k shift+f"
      },
      {
        "command": "hypha.clearSearch",
        "key": "ctrl+k c",
        "mac": "cmd+k c"
      },
      {
        "command": "hypha.refresh",
        "key": "ctrl+k r",
        "mac": "cmd+k r"
      },
      {
        "command": "hypha.lint",
        "key": "ctrl+k l",
        "mac": "cmd+k l"
      },
      {
        "command": "hypha.info",
        "key": "ctrl+k i",
        "mac": "cmd+k i"
      },
      {
        "command": "hypha.searchBody",
        "key": "ctrl+k *",
        "mac": "cmd+k *"
      }
    ],
    "configuration": {
      "title": "Hypha",
      "properties": {
        "hypha.binaryPath": {
          "type": "string",
          "description": "Path to the hypha binary (leave empty to use PATH)",
          "default": ""
        },
        "hypha.rootDir": {
          "type": "string",
          "description": "Absolute path to the root directory for notes",
          "default": ""
        },
        "hypha.displayFields": {
          "type": "array",
          "items": { "type": "string" },
          "description": "Frontmatter fields to display as badges (e.g., ['tags', 'status']). Empty = show none.",
          "default": []
        },
        "hypha.maxBadges": {
          "type": "number",
          "description": "Maximum number of badges to display before showing +N",
          "default": 3,
          "minimum": 1,
          "maximum": 10
        }
      }
    }
  },
  "devDependencies": {
    "@types/node": "^20.3.2",
    "@types/vscode": "^1.85.0",
    "@typescript-eslint/eslint-plugin": "^6.0.0",
    "@typescript-eslint/parser": "^6.0.0",
    "eslint": "^8.44.0",
    "typescript": "^5.0.4"
  }
}
